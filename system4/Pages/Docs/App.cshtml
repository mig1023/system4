@page "/apps/{appid}"
@model system4.Pages.Docs.AppModel
@{
    ViewData["Title"] = "App";
}

<div class="container p-0">
    <div class="row align-items-start">
        <div class="col">
            <div class="container p-0">
                <div class="row align-items-start">
                    <div class="col-3">App num:</div>
                    <div class="col-sm-9">@Model.Appointment.AppNum</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">App date:</div>
                    <div class="col-sm-9">@Model.Appointment.AppDate.ToString("dd.MM.yyyy")</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Timeslot:</div>
                    <div class="col-sm-9">@Model.Appointment.TimeslotID</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Center:</div>
                    <div class="col-sm-9">@Model.Appointment.Center.BName</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Visa type:</div>
                    <div class="col-sm-9">@Model.Appointment.VisaType.VName</div>
                </div>  
                <div class="row align-items-start">
                    <div class="col-3">Status:</div>
                    <div class="col-sm-9">@Model.Appointment.StatusLine</div>
                </div> 
                <div class="row align-items-start">
                    <div class="col-3">Delivering:</div>
                    <div class="col-sm-9">&nbsp;</div>
                </div> 
                <div class="row align-items-start">
                    <div class="col-3">SMS:</div>
                    <div class="col-sm-9">&nbsp;</div>
                </div> 
                <div class="row align-items-start">
                    <div class="col-3">Documents:</div>
                    <div class="col-sm-9">&nbsp;</div>
                </div> 
            </div>
        </div>
        <div class="col">
            <div class="container">
                <div class="row align-items-start">
                    <div class="col-3">EMail:</div>
                    <div class="col-sm-9">@Model.Appointment.EMail</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Phone:</div>
                    <div class="col-sm-9">@Model.Appointment.Phone</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Mobile:</div>
                    <div class="col-sm-9">@Model.Appointment.Mobile</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Person:</div>
                    <div class="col-sm-9">@Model.Appointment.LName @Model.Appointment.FName @Model.Appointment.MName</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Passport:</div>
                    <div class="col-sm-9">@Model.Appointment.PassNum</div>
                </div>
                <div class="row align-items-start">
                    <div class="col-3">Address:</div>
                    <div class="col-sm-9">@Model.Appointment.Address</div>
                </div>
            </div>
        </div>
    </div>
</div>

<p> </p>

<div class="container p-0">
    <h1 class="display-4 p-0">Applicants:</h1>
    <div class="container p-0">
        @{
            int i = 1;
            foreach (Data.AppData app in Model.Appointment.AppData)
            {
                <div class="row align-items-start">
                    <div class="col-1">@(i++).</div>
                    <div class="col align-items-start">@app.FName @app.LName</div>
                    <div class="col">@app.PassNum</div>
                    <div class="col">@app.BirthDate.ToString("dd.MM.yyyy")</div>
                    <div class="col">@app.StatusLine</div>
                </div>
            }
        }
    </div>
</div>

@if (Model.Appointment.Comments.Count > 0)
{
    <p> </p>

    <div class="border border-danger">
        @foreach (DB.AppComments comment in Model.Appointment.Comments)
        {
            <div class="row align-items-start m-3 comment_text">
                <span>@comment.CommentText
                    <span class="comment_text_data">@comment.Login</span>
                    <span class="comment_text_data">@comment.CommentDate.ToString("dd.MM.yyyy HH:nn")</span>
                </span>
            </div>
        }

    </div>
}